angular.module("hackustate",[]).controller("hackController",["$http",function(n){var o=this;o.waiting=!1,console.log(o),o.inGame=!1,o.songList=[];var e={};o.handler=function(t,a){console.log("Contacting Back End!");var c={name:t,gameCode:a};return e=c,n.post("/parseRequester",{userData:c}).then(function(n){console.log(n.data),n.data.inGame===!0&&(o.inGame=n.data.inGame,console.log("In Lobby - Initializing Game Checks"),e.currentRound=0,o.waiting=!0,e.objectId=n.data.objectId,o.gameHandler())}),n},o.gameHandler=function(){function t(){console.log("checking lobby status"),n.post("/round",{userData:e}).then(function(n){console.log(n.data),e.currentRound=n.data.currentRound,e.currentRound>0&&(o.waiting=!1),e.songs=n.data.songs,o.songList=e.songs,console.log("YOU: "+e.name),-1==e.currentRound&&location.reload()})}return o.gameCheck=function(){setInterval(function(){t()},3e3)},o.gameCheck()},o.songSelect=function(o){e.songSelection=o,n.post("/selection",{userData:e}).then(function(n){console.log(n.data)})}}]);
